"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5271],{25952:function(e,n,t){t.d(n,{h:function(){return m},t:function(){return j}});var r=t(4337),a=t(35250),s=t(95182),i=t.n(s),o=t(1454),l=t(21389);function c(){var e=(0,r._)(["text-xs flex items-center justify-center gap-1"]);return c=function(){return e},e}function d(){var e=(0,r._)(["dark:text-white disabled:text-gray-300 dark:disabled:text-gray-400"]);return d=function(){return e},e}function u(){var e=(0,r._)(["flex-grow flex-shrink-0 tabular-nums"]);return u=function(){return e},e}function h(){var e=(0,r._)(["text-xs inline-flex bg-token-surface-secondary h-8 border rounded border-token-border-medium"]);return h=function(){return e},e}function f(){var e=(0,r._)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-surface-tertiary"]);return f=function(){return e},e}function x(){var e=(0,r._)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"]);return x=function(){return e},e}function m(e){var n=e.currentPage,t=e.onChangeIndex,r=e.length,s=e.className,l=function(e){t(i()(n+e,0,r-1))};return(0,a.jsxs)(p,{className:s,children:[(0,a.jsx)(g,{onClick:function(){return l(-1)},disabled:0===n,children:(0,a.jsx)(o.YFh,{className:"icon-xs"})}),(0,a.jsx)(v,{children:"".concat(n+1," / ").concat(r)}),(0,a.jsx)(g,{onClick:function(){return l(1)},disabled:n===r-1,children:(0,a.jsx)(o.Tfp,{className:"icon-xs"})})]})}var p=l.Z.div(c()),g=l.Z.button(d()),v=l.Z.span(u());function j(e){var n=e.currentPage,t=e.onChangeIndex,r=e.length,s=e.className,l=function(e){t(i()(n+e,0,r-1))};return(0,a.jsxs)(b,{className:s,children:[(0,a.jsx)(k,{onClick:function(){return l(-1)},disabled:0===n,children:(0,a.jsx)(o.YFh,{className:"icon-sm"})}),(0,a.jsx)(C,{children:"".concat(n+1,"/").concat(r)}),(0,a.jsx)(k,{onClick:function(){return l(1)},disabled:n===r-1,children:(0,a.jsx)(o.Tfp,{className:"icon-sm"})})]})}var b=l.Z.div(h()),k=l.Z.button(f()),C=l.Z.span(x())},31731:function(e,n,t){t.d(n,{m:function(){return i}});var r=t(35250),a=t(98359),s=t(70079);function i(e){var n=e.children;return(0,r.jsx)(a.u,{as:s.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:n})}},50362:function(e,n,t){t.d(n,{D2:function(){return M},Vp:function(){return D},ZP:function(){return _},ze:function(){return H}});var r=t(39324),a=t(70216),s=t(22830),i=t(4337),o=t(35250),l=t(26563),c=t(98359),d=t(57526),u=t(19841),h=t(70079),f=t(99581),x=t(1454),m=t(21389),p=t(1491),g=t(13246),v=t(59904),j=t(42798);function b(){var e=(0,i._)(["rounded-lg bg-white ring-1 ring-black/10 dark:bg-gray-800 dark:ring-white/20 shadow-[0_1px_7px_0_rgba(0,0,0,0.03)]"]);return b=function(){return e},e}function k(){var e=(0,i._)(["absolute z-[17] mt-2 flex max-h-60 w-full flex-col overflow-hidden text-base focus:outline-none dark:last:border-0 sm:text-sm md:w-[100%]"]);return k=function(){return e},e}function C(){var e=(0,i._)(["absolute z-[17] -ml-[1px] flex flex-col gap-2 p-3 sm:p-4"]);return C=function(){return e},e}function w(){var e=(0,i._)(["flex items-center gap-2 truncate"]);return w=function(){return e},e}function y(){var e=(0,i._)(["h-6 w-6 shrink-0"]);return y=function(){return e},e}function L(){var e=(0,i._)(["absolute inset-y-0 right-0 flex items-center pr-5 text-gray-800 dark:text-gray-100"]);return L=function(){return e},e}function N(){var e=(0,i._)(["absolute inset-y-0 right-0 flex items-center pr-3 text-gray-800 dark:text-gray-100"]);return N=function(){return e},e}var M=["confidential","alpha","plus"];function _(e){var n=e.selectedOptions,t=e.selectedLabel,s=e.onChange,i=e.onAction,c=e.onOpen,d=e.onClose,u=e.dropdownRef,f=(0,a._)(e,["selectedOptions","selectedLabel","onChange","onAction","onOpen","onClose","dropdownRef"]),x=(0,h.useCallback)(function(e){if(e.some(function(e){return"string"==typeof e})){var n=e.find(function(e){return"string"==typeof e});null==i||i(n)}else s(e)},[s,i]);return(0,o.jsx)(l.R,{value:n.map(function(e){return e.value}),multiple:!0,onChange:x,children:function(e){var a=e.open;return(0,o.jsx)(Z,(0,r._)({ref:u,selectedLabel:t||"".concat(n.length," selected"),open:a,onOpen:c,onClose:d,multiple:!0},f))}})}var Z=(0,h.forwardRef)(function(e,n){var t=e.name,r=e.selectedLabel,a=e.open,s=e.options,i=e.actions,m=e.multiple,b=e.isLoading,k=e.loadingState,C=e.header,w=e.onOpen,y=e.onClose,L=e.theme,N=(0,h.useRef)(null),M=(0,h.useRef)(null),_=(0,p.oc)();(0,h.useImperativeHandle)(n,function(){return{open:function(){if(!a){var e;null===(e=N.current)||void 0===e||e.click()}},close:function(){if(a){var e;null===(e=N.current)||void 0===e||e.click()}}}},[a]);var Z=b?k||(0,o.jsx)("div",{className:"flex h-[42px] items-center justify-center",children:(0,o.jsx)(j.Z,{})}):(0,o.jsxs)(o.Fragment,{children:[C,(0,o.jsxs)(l.R.Options,{className:"overflow-auto",children:[s.map(function(e,n){return(0,o.jsx)(T,{value:e.value,disabled:e.disabled,theme:L,children:function(n){var t=n.selected,r=n.active;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(F,{children:[e.imageUrl&&(0,o.jsx)(z,{children:(0,o.jsx)(g.Z,{url:e.imageUrl,name:e.title,size:"100%"})}),(0,o.jsxs)("span",{className:(0,u.default)(t&&!m&&"font-semibold","flex h-6 items-center gap-1 text-gray-800 dark:text-gray-100"),children:[e.title,e.tags.map(function(e){return D(e)}),e.customTags]})]}),m&&!e.disabled?(0,o.jsx)(I,{theme:L,selected:t}):t&&(0,o.jsx)(V,{theme:L,icon:"mini"===L?v.HQ:x.UgA}),e.disabled&&(0,o.jsx)(V,{theme:L,icon:d.Z,className:"text-red-700 dark:text-red-500"}),r&&_&&(0,f.createPortal)((0,o.jsx)(B,{option:e,dropdownRef:M}),document.body)]})}},n)}),null==i?void 0:i.map(function(e,n){return(0,o.jsx)(T,{value:e.id,theme:L,children:function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"text-gray-800 dark:text-gray-100",children:e.label}),(0,o.jsx)(V,{theme:L,icon:e.icon})]})}},n)})]})]});return(0,o.jsxs)("div",{className:"relative w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:[(0,o.jsxs)(l.R.Button,{ref:N,onClick:a?y:w,className:(0,u.default)("relative flex cursor-pointer flex-col bg-white py-2 pr-10 text-left dark:bg-gray-800 sm:text-sm","mini"===L?"mx-auto w-auto rounded-lg border border-transparent pl-4 pr-7 hover:border-black/10 dark:hover:border-white/10":"w-full rounded-md border border-black/10 pl-3 focus:border-green-600 focus:outline-none focus:ring-1 focus:ring-green-600 dark:border-white/20"),children:["mini"!==L&&(0,o.jsx)(l.R.Label,{className:"block text-xs text-gray-700 dark:text-gray-500",children:t}),(0,o.jsx)("span",{className:"inline-flex w-full truncate",children:(0,o.jsx)("span",{className:"flex h-6 items-center gap-1 truncate",children:r})}),(0,o.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,o.jsx)(x.bTu,{className:"icon-sm text-gray-400","aria-hidden":"true"})})]}),(0,o.jsx)(c.u,{show:a,as:h.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)(P,{ref:M,children:Z})})]})});function T(e){var n=e.value,t=e.disabled,r=e.children,a=e.theme;return(0,o.jsx)(l.R.Option,{className:function(e){var n=e.active;return(0,u.default)("mini"===a?R:W,n&&!t?"bg-gray-100 dark:bg-gray-700":"text-gray-900",t&&"cursor-auto bg-gray-50 text-gray-400 dark:bg-gray-700 dark:text-gray-100")},value:n,children:r})}function V(e){var n=e.icon,t=e.className,r=e.theme;return(0,o.jsx)("mini"===r?E:A,{children:(0,o.jsx)(n,{className:(0,u.default)("icon-md",t),"aria-hidden":"true"})})}function I(e){var n=e.selected,t=e.disabled;if("mini"===e.theme){var r=(0,u.default)("h-5 w-5 text-blue-600",n?"stroke-[2.5]":"stroke-2");return(0,o.jsxs)(E,{children:[n?(0,o.jsx)(v.HQ,{className:r}):(0,o.jsx)(v.i9,{className:r}),!n&&(0,o.jsx)(v.nQ,{className:(0,u.default)("icon-md absolute text-blue-600 opacity-0 transition-opacity",!t&&"group-hover:opacity-100")})]})}return(0,o.jsx)(A,{children:(0,o.jsx)("div",{className:(0,u.default)("flex h-6 w-6 items-center justify-center rounded-full border transition-colors",n?"border-transparent bg-green-600 text-white":"border-black/5 dark:border-white/20"),"aria-hidden":"true",children:(0,o.jsx)(x.UgA,{className:(0,u.default)("h-3 w-3 transition-opacity",n&&"opacity-100",!n&&"opacity-0",!n&&!t&&"group-hover:opacity-50"),strokeWidth:n?2.5:2})})})}function H(e){var n=e.showCheckbox,t=e.theme;return(0,o.jsxs)("div",{className:(0,u.default)("mini"===t?R:W,"cursor-auto"),children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(z,{children:(0,o.jsx)("div",{className:"h-full w-full rounded-sm bg-gray-200"})}),(0,o.jsx)("div",{className:"h-[12px] w-[88px] rounded-sm bg-gray-100"})]}),n&&(0,o.jsx)(I,{theme:t,selected:!1,disabled:!0})]})}function B(e){var n=e.option,t=e.dropdownRef,r=(0,s._)((0,h.useState)(),2),a=r[0],i=r[1];return((0,h.useEffect)(function(){var e=function(){if(t.current){var e=t.current.getBoundingClientRect();i({top:e.top,left:e.left-260,minHeight:e.height})}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[t]),a)?(0,o.jsxs)(O,{style:{width:260,minHeight:a.minHeight,top:a.top,left:a.left},children:[n.disabled&&(0,o.jsx)(d.Z,{className:"icon-lg text-red-700 dark:text-red-500"}),n.imageUrl&&(0,o.jsx)(g.Z,{url:n.imageUrl,name:n.title,size:70}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[n.title," ",n.tags.map(function(e){return D(e)})," ",n.customTags]}),(0,o.jsx)("div",{className:"whitespace-pre-line text-xs",children:n.description})]}):null}var D=function(e){return M.includes(e)&&(0,o.jsx)("span",{className:(0,u.default)("py-0.25 rounded px-1 text-[10px] font-semibold uppercase","confidential"===e&&"bg-red-200 text-red-800","alpha"===e&&"bg-blue-200 text-blue-500","plus"===e&&"bg-yellow-200 text-yellow-900"),children:e},e)},S=m.Z.div(b()),P=(0,m.Z)(S)(k()),O=(0,m.Z)(S)(C()),R="group relative flex h-[50px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-5 pr-12 last:border-0 dark:border-white/20",W="group relative flex h-[42px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-3 pr-9 last:border-0 dark:border-white/20",F=m.Z.span(w()),z=m.Z.span(y()),E=m.Z.span(L()),A=m.Z.span(N())},66273:function(e,n,t){t.d(n,{B:function(){return $}});var r=t(39324),a=t(22830),s=t(4337),i=t(35250),o=t(32148),l=t(33554),c=t(59837),d=t(77421),u=t(62853),h=t(97296),f=t(5397),x=t.n(f),m=t(10721),p=t(70079),g=t(70671),v=t(32004),j=t(94968),b=t(40803),k=t(62682),C=t(51505),w=t(55548),y=t(17944),L=t(25687),N=t(13246),M=t(94705),_=t(7184),Z=t(6013),T=function(e){var n=e.children,t=e.contentClassName,r=e.content,s=e.side,o=e.sideOffset,l=(0,a._)((0,p.useState)(void 0),2),c=l[0],d=l[1],u=function(){d(!0)},h=function(){d(void 0)};return(0,i.jsxs)(Z.fC,{open:c,onOpenChange:function(e){d(!0===e||void 0)},children:[(0,i.jsx)(Z.xz,{asChild:!0,onMouseEnter:u,onMouseLeave:h,children:n}),(0,i.jsx)(Z.h_,{children:(0,i.jsx)(Z.VY,{onMouseEnter:u,onMouseLeave:h,side:s,sideOffset:o,collisionPadding:16,className:t,onOpenAutoFocus:function(e){e.preventDefault()},onCloseAutoFocus:function(e){e.preventDefault()},children:r})})]})},V=t(59904),I=t(86585),H=t(50362),B=t(47478),D=t(1454),S=t(18481),P=t(47428),O=t(12952),R=t(39368),W=t(70496);function F(e){var n=e.icon,t=e.label,r=e.onSelect;return(0,i.jsxs)(P.ck,{onSelect:r,className:"flex cursor-pointer select-none items-center gap-3 px-4 py-2 text-sm text-token-text-secondary outline-none radix-highlighted:bg-gray-50 dark:radix-highlighted:bg-gray-700",children:[(0,i.jsx)(n,{className:"icon-sm"}),(0,i.jsx)("span",{children:t})]})}function z(e){var n=e.conversationTemplate,t=(0,y.ec)(y.F_.accountUserId),r=n.owner_id===t,a=(0,m.useRouter)(),s=(0,y.hz)().has("debug"),o=(0,S.xj)(n.id);return(0,i.jsxs)(P.fC,{children:[(0,i.jsx)(P.xz,{asChild:!0,children:(0,i.jsxs)("button",{className:"flex min-w-[256px] items-center gap-4 overflow-hidden rounded p-2 text-left hover:bg-gray-50 radix-state-open:bg-gray-50 dark:hover:bg-gray-700 dark:radix-state-open:bg-gray-700 lg:-ml-2",children:[(0,i.jsx)(O.Py,{conversationTemplate:n}),(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:n.name}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs text-token-text-tertiary",children:[(0,i.jsxs)("span",{children:["Template by ",n.author_name]}),null!=n.published_at?null!=n.description?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{className:"max-w-[160px] overflow-hidden overflow-ellipsis whitespace-nowrap",children:n.description})]}):null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{children:"Private"})]})]})]}),(0,i.jsx)(D.bTu,{className:"icon-sm text-token-text-tertiary"})]})}),(0,i.jsx)(P.Uv,{children:(0,i.jsxs)(P.VY,{className:"min-w-[256px] max-w-[320px] rounded-md border border-gray-100 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",align:"start",side:"bottom",sideOffset:4,children:[(0,i.jsxs)(P.__,{className:"border-b border-gray-200 p-4 dark:border-gray-700",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:n.name}),(0,i.jsx)("div",{className:"mt-1 flex items-center gap-1 text-xs text-token-text-tertiary",children:null!=n.published_at?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D._rq,{className:"icon-xs"}),(0,i.jsx)("span",{children:"Published in workspace"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.UIZ,{className:"icon-xs"}),(0,i.jsxs)("span",{children:["Private",r&&(0,i.jsx)("span",{children:" (Only visible to you)"})]})]})}),null!=n.published_at&&null!=n.description&&(0,i.jsx)("div",{className:"mt-1 text-xs text-token-text-secondary line-clamp-3",children:n.description})]}),(0,i.jsxs)(P.ZA,{className:"py-1",children:[(0,i.jsx)(F,{icon:D.IC0,label:"New chat with this template",onSelect:function(){a.push((0,R.l1)(n.id),void 0,{shallow:!0})}}),r?(0,i.jsx)(F,{icon:D.IYd,label:"Edit template",onSelect:function(){a.push(o,void 0,{shallow:!0})}}):(0,i.jsx)(F,{icon:D.rDJ,label:"See how it's made",onSelect:function(){(0,W.O)(n.id)}}),s&&(0,i.jsx)(F,{icon:D.cDN,label:"Debug",onSelect:function(){return w.vm.toggleActiveSidebar("debug")}})]})]})})]})}function E(e){var n=e.workspaceId,t=e.conversationTemplateId,r=(0,R.GS)(n,t,{includeDeleted:!0}).data;return(0,i.jsx)("div",{className:"flex min-h-[60px] justify-center border-b border-gray-100 dark:border-gray-700",children:(0,i.jsx)("div",{className:"flex w-full items-center px-2 md:max-w-2xl lg:max-w-[38rem] lg:px-0 xl:max-w-3xl",children:null!=r?(0,i.jsx)(z,{conversationTemplate:r}):null})})}var A=t(74329),U=t(15635),Y=t(23234),Q=t(11547);function G(){var e=(0,s._)(["translateY(",")"]);return G=function(){return e},e}var q=x()(function(){return Promise.all([t.e(8682),t.e(1438),t.e(5427),t.e(3694),t.e(2266)]).then(t.bind(t,84147)).then(function(e){return e.GizmoConversationHeader})},{loadableGenerated:{webpack:function(){return[84147]}}}),J=x()(function(){return Promise.all([t.e(8682),t.e(1438),t.e(5427),t.e(3694),t.e(2266)]).then(t.bind(t,84147)).then(function(e){return e.DefaultAssistantConversationHeader})},{loadableGenerated:{webpack:function(){return[84147]}}}),K=[0,60],X=function(e){var n=e.clientThreadId,t=(0,g.Z)(),r=null!==(0,p.useContext)(L.gB),a=(0,y.hz)(),s=C.tQ.getServerThreadId(n),o=(!(0,y.ec)(y.F_.isBusinessWorkspace)||a.has(k.L0.WorkspaceShareLinks))&&a.has(k.RJ);return!r&&void 0!==s&&o?(0,i.jsx)(U.u,{side:"left",label:t.formatMessage(er.shareChat),children:(0,i.jsx)(A.O,{onClick:function(){return w.vm.openSharingModal(s)},"aria-label":t.formatMessage(er.shareChat),children:(0,i.jsx)(D.A8q,{className:"icon-sm"})})}):null};function $(e){var n=e.currentModelConfig,t=e.clientThreadId,r=e.gizmoId,a=e.icon,s=(0,C.UL)(t),o=(0,y.ec)(function(e){var n;return null===(n=e.currentWorkspace)||void 0===n?void 0:n.id});if((0,Y.Ml)()){var l,c=null!==(l=s.conversationTemplateId)&&void 0!==l?l:r;return null==c?(0,i.jsx)(J,{currentModelConfig:n}):(0,i.jsx)(q,{gizmoId:c,clientThreadId:t})}return(0,i.jsx)(ee,{children:null!=o&&null!=s.conversationTemplateId?(0,i.jsx)(E,{clientThreadId:t,workspaceId:o,conversationTemplateId:s.conversationTemplateId}):(0,i.jsx)(en,{currentModelConfig:n,clientThreadId:t,icon:a})})}function ee(e){var n=e.children,t=(0,w.tN)(w.bM.isThreadHeaderVisible),r=(0,l.c)(0),s=(0,p.useRef)(null),o=(0,p.useRef)(null),f=(0,a._)((0,b.useAtTop)(),1)[0],x=(0,p.useCallback)(function(e){var n=e.scrollTop;if(null==s.current||s.current===n){s.current=n;return}if(o.current=s.current,s.current=n,o.current>s.current){w.vm.showThreadHeader();var t=Math.max(K[0],r.get()-Math.abs(o.current-s.current));t!==r.get()&&r.set(t)}else{var a=Math.min(K[1],r.get()+Math.abs(o.current-s.current));a!==r.get()&&r.set(a)}},[r]),m=(0,c.H)(r,K,["0%","-100%"]),g=(0,a._)((0,p.useState)(m.get()),2),v=(g[0],g[1]);(0,d.W)(m,"change",function(e){v(e)});var j=(0,u.Y)(G(),m);(0,p.useEffect)(function(){w.vm.showThreadHeader()},[]);var k=null!==(0,p.useContext)(L.gB);return(0,b.useObserveScrollPosition)(k?void 0:x),(0,i.jsx)(h.E.header,{animate:t?void 0:{top:t?0:"-90px",transition:{duration:.2,ease:"easeIn"}},style:{boxShadow:!f&&t?"0px 4px 24px 0px #0000000D":void 0,transform:t?j:void 0},className:"sticky top-0 z-10 w-full bg-white dark:bg-gray-800",children:n})}function en(e){var n,t,a,s=e.currentModelConfig,o=e.clientThreadId,l=e.icon,c=(0,g.Z)(),d=null!==(0,p.useContext)(L.gB),u=(0,w.tN)(function(e){return"debug"===e.activeSidebar}),h=(0,y.hz)(),f=h.has("debug")&&!u,x=[];f&&x.push((0,i.jsx)(U.u,{side:"left",label:c.formatMessage(er.openDebug),children:(0,i.jsx)(A.O,{onClick:function(){return w.vm.toggleActiveSidebar("debug")},"aria-label":c.formatMessage(er.openDebug),children:(0,i.jsx)(D.cDN,{className:"icon-sm"})})})),x.push((0,i.jsx)(X,{clientThreadId:o}));var j=(0,C.Qi)(o),b=null!=j,Z=b&&null==j.aboutModelMessage&&null==j.aboutUserMessage&&null!==j.shareId,T=h.has(k.b5),V=(0,C.Ro)(o);void 0===V&&(V=s);var S=V.tags.filter(function(e){return H.D2.includes(e)}).map(function(e){return(0,H.Vp)(e)}),P=d?V.title:s.title,O=(0,I.i)(o);if(O.length>0){var R=O.map(function(e,n){return(0,i.jsx)(N.Z,{url:e.manifest.logo_url,name:e.manifest.name_for_human,size:16},n)});a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,(0,r._)({},er.enabledPlugins))}),R]})}var W=(0,m.useRouter)(),F=d&&(null===(n=W.query)||void 0===n?void 0:null===(t=n.shareParams)||void 0===t?void 0:t[1])==="moderate",z=(0,w.tN)(function(e){return e.activeModals.has(w.B.DownloadMessages)}),E=C.tQ.getThreadCurrentLeafId(o),Y=(0,C.u9)(o,E),Q=(0,p.useCallback)(function(){T&&(0,B.Ub)(o,Y)},[o,T,Y]);return(0,i.jsxs)(i.Fragment,{children:[T&&(0,i.jsx)(_.Z,{type:"success",isOpen:z,onClose:function(){w.vm.closeModal(w.B.DownloadMessages)},closeButton:(0,i.jsx)(M.ZP.CloseButton,{onClose:function(){w.vm.closeModal(w.B.DownloadMessages)}}),primaryButton:(0,i.jsx)(M.ZP.Button,{onClick:Q,children:(0,i.jsx)(v.Z,(0,r._)({},er.downloadButton))}),title:c.formatMessage(er.downloadChatDebugInfo),secondaryButton:(0,i.jsx)(M.ZP.Button,{onClick:function(){w.vm.closeModal(w.B.DownloadMessages)},children:(0,i.jsx)(v.Z,(0,r._)({},er.cancelButton))})}),(0,i.jsxs)("div",{className:"relative z-20 flex min-h-[60px] flex-wrap items-center justify-between gap-3 border-b border-black/10 bg-white p-2 text-gray-500 dark:border-gray-900/50 dark:bg-gray-800 dark:text-gray-300",onClick:function(e){T&&!d&&3===e.detail&&w.vm.openModal(w.B.DownloadMessages)},children:[(0,i.jsx)("div",{className:"hidden flex-shrink flex-row sm:flex",children:x.map(function(e,n){return(0,i.jsx)(A.h,{},n)})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-grow items-center gap-1 px-2 py-1 text-gray-600 dark:text-gray-200 sm:justify-center sm:p-0",children:[d&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{children:(0,i.jsx)(v.Z,(0,r._)({},er.sharedChat))}),(0,i.jsx)("span",{className:"px-1",children:"•"})]}),!d&&null!=l&&(0,i.jsx)(l,{className:"icon-sm"}),(0,i.jsx)("span",{children:P}),S,a?(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{className:"px-1",children:"•"}),a]}):null,F&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{className:"px-1",children:"•"}),(0,i.jsx)("strong",{children:(0,i.jsx)(v.Z,(0,r._)({},er.moderationView))})]}),!d&&b&&!Z&&(0,i.jsx)("div",{className:"",children:(0,i.jsx)(et,{clientThreadId:o})})]}),(0,i.jsx)("div",{className:"flex flex-shrink flex-row",children:x.map(function(e,n){return(0,i.jsx)("span",{children:e},n)})})]})]})}var et=function(e){var n=e.clientThreadId,t=(0,C.Qi)(n),a=(0,p.useMemo)(function(){if(null==t)return null;var e=t.aboutUserMessage,n=t.aboutModelMessage,a=t.fallback;return null!=e&&null!=n?(0,i.jsxs)("div",{className:"flex flex-col gap-7",children:[null!==e&&""!==e&&(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,i.jsx)(v.Z,(0,r._)({},Q.sY.aboutYouHelpText))}),(0,i.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:e})]}),null!==n&&""!==n&&(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,i.jsx)(v.Z,(0,r._)({},Q.sY.modelHelpText))}),(0,i.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:n})]})]}):null!=a?a:null},[t]);return null===t?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(T,{contentClassName:"relative max-h-[450px] min-w-[300px] max-w-[350px] animate-slideDownAndFade select-none overflow-y-auto whitespace-pre-line rounded-xl border-gray-100 bg-white p-4 text-sm text-gray-600 shadow-xs dark:bg-gray-900 dark:text-white sm:max-w-lg md:max-w-xl",side:"bottom",sideOffset:8,content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mb-5 mt-1 border-b border-black/10 pb-5 dark:border-white/10",children:(0,i.jsx)("div",{className:"flex flex-row items-center gap-2 text-gray-500",children:(0,i.jsx)(v.Z,(0,r._)({},er.chatPreferencesNote))})}),a]}),children:(0,i.jsxs)("div",{className:"cursor-pointer pt-0.5",children:[(0,i.jsx)(V.HV,{className:"h-4 w-4 flex-shrink-0 sm:mb-0.5 sm:h-5 sm:w-5"}),(0,i.jsx)(o.T,{children:(0,i.jsx)(v.Z,(0,r._)({},er.chatPreferencesInfoLabel))})]})})})},er=(0,j.vU)({chatPreferencesInfoLabel:{id:"ThreadSettings.chatPreferencesInfoLabel",defaultMessage:"Custom instructions details",description:"Label for the Custom instructions info icon"},chatPreferencesNote:{id:"ThreadSettings.chatPreferencesNote",defaultMessage:"Custom instructions are on and can only be changed at the beginning of the chat.",description:"Label in the popover for Custom Instructions"},openDebug:{id:"ThreadSettings.openDebug",defaultMessage:"Open debug sidebar",description:"Open debug sidebar button tooltip"},shareChat:{id:"ThreadSettings.shareChat",defaultMessage:"Share chat",description:"Open share modal button tooltip"},sharedChat:{id:"ThreadHeader.sharedChat",defaultMessage:"Shared Chat",description:"Label for shared chat status"},enabledPlugins:{id:"ThreadHeader.enabledPlugins",defaultMessage:"Enabled plugins:",description:"Label for enabled plugins in the header"},moderationView:{id:"ThreadHeader.moderationView",defaultMessage:"MODERATION VIEW",description:"Label for moderation view status"},downloadChatDebugInfo:{id:"ThreadHeader.downloadChatDebugInfo",defaultMessage:"Download chat debug info",description:"Title for the Download chat debug info modal"},downloadButton:{id:"ThreadHeader.downloadButton",defaultMessage:"Download",description:"Download button text in the Download chat debug info modal"},cancelButton:{id:"ThreadHeader.cancelButton",defaultMessage:"Cancel",description:"Cancel button text in the Download chat debug info modal"}})},35265:function(e,n,t){t.d(n,{AZ:function(){return h},Gp:function(){return l},Hg:function(){return o},RR:function(){return d},VJ:function(){return u},a_:function(){return x},eu:function(){return f},gm:function(){return a},hk:function(){return s},ks:function(){return c},ud:function(){return i}});var r=t(35250),a=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[(0,r.jsx)("path",{d:"M11.668 10.8346L17.0846 5.41797C17.775 4.72761 17.775 3.60832 17.0846 2.91797C16.3943 2.22761 15.275 2.22761 14.5846 2.91797L9.16797 8.33463V10.8346H11.668Z",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8.33203 3.33203H5.83203C4.45132 3.33203 3.33203 4.45132 3.33203 5.83203V14.1654C3.33203 15.5461 4.45132 16.6654 5.83203 16.6654H14.1654C15.5461 16.6654 16.6654 15.5461 16.6654 14.1654V11.6654",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round"})]})},s=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[(0,r.jsx)("path",{d:"M10.7759 4.66603L9.77588 3.16603C9.44361 2.66761 9.8009 2 10.3999 2H13.5971C14.1962 2 14.5535 2.66761 14.2212 3.16602L13.2212 4.66603C13.0821 4.87467 12.8479 5 12.5971 5H11.3999C11.1492 5 10.915 4.87467 10.7759 4.66603Z",fill:"white"}),(0,r.jsx)("path",{d:"M10.7757 19.334L9.77566 20.834C9.44338 21.3324 9.80068 22 10.3997 22H13.5969C14.1959 22 14.5532 21.3324 14.221 20.834L13.221 19.334C13.0819 19.1253 12.8477 19 12.5969 19H11.3997C11.1489 19 10.9148 19.1253 10.7757 19.334Z",fill:"white"}),(0,r.jsx)("path",{d:"M5.94802 7.67778L4.18025 7.32423C3.59286 7.20675 3.37343 6.48204 3.79701 6.05846L6.05778 3.79768C6.48136 3.37411 7.20607 3.59354 7.32355 4.18093L7.6771 5.94869C7.72628 6.19459 7.64932 6.44879 7.472 6.62611L6.62543 7.47268C6.44811 7.64999 6.19391 7.72696 5.94802 7.67778Z",fill:"white"}),(0,r.jsx)("path",{d:"M16.3197 18.0497L16.6732 19.8175C16.7907 20.4049 17.5154 20.6243 17.939 20.2008L20.1998 17.94C20.6233 17.5164 20.4039 16.7917 19.8165 16.6742L18.0488 16.3207C17.8029 16.2715 17.5487 16.3484 17.3713 16.5258L16.5248 17.3723C16.3475 17.5496 16.2705 17.8039 16.3197 18.0497Z",fill:"white"}),(0,r.jsx)("path",{d:"M4.66603 13.2241L3.16603 14.2241C2.66761 14.5564 2 14.1991 2 13.6001V10.4029C2 9.80383 2.66761 9.44654 3.16602 9.77881L4.66603 10.7788C4.87467 10.9179 5 11.1521 5 11.4029V12.6001C5 12.8508 4.87467 13.085 4.66603 13.2241Z",fill:"white"}),(0,r.jsx)("path",{d:"M19.334 13.2243L20.834 14.2243C21.3324 14.5566 22 14.1993 22 13.6003V10.4031C22 9.80406 21.3324 9.44676 20.834 9.77904L19.334 10.779C19.1253 10.9181 19 11.1523 19 11.4031V12.6003C19 12.8511 19.1253 13.0852 19.334 13.2243Z",fill:"white"}),(0,r.jsx)("path",{d:"M7.67778 18.052L7.32423 19.8198C7.20675 20.4071 6.48204 20.6266 6.05846 20.203L3.79768 17.9422C3.37411 17.5186 3.59354 16.7939 4.18093 16.6764L5.94869 16.3229C6.19459 16.2737 6.44879 16.3507 6.62611 16.528L7.47268 17.3746C7.64999 17.5519 7.72696 17.8061 7.67778 18.052Z",fill:"white"}),(0,r.jsx)("path",{d:"M18.0497 7.68034L19.8175 7.32678C20.4049 7.20931 20.6243 6.48459 20.2008 6.06102L17.94 3.80024C17.5164 3.37667 16.7917 3.59609 16.6742 4.18348L16.3207 5.95125C16.2715 6.19714 16.3484 6.45135 16.5258 6.62867L17.3723 7.47523C17.5496 7.65255 17.8039 7.72952 18.0497 7.68034Z",fill:"white"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"4",fill:"white"})]})},i=function(e){var n=e.className;return(0,r.jsx)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",className:n,children:(0,r.jsx)("path",{d:"M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},o=function(e){var n=e.className;return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:n,children:(0,r.jsx)("path",{d:"M17 13L12 18L7 13M12 6L12 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},l=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M6.66797 5.83333L10.0013 2.5L13.3346 5.83333M10.0013 2.91667V11.6667",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M3.33203 11.668V14.168C3.33203 15.5487 4.45132 16.668 5.83203 16.668H14.1654C15.5461 16.668 16.6654 15.5487 16.6654 14.168V11.668",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round"})]})},c=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M10 12.9998L17.0833 5.9165C17.7737 5.22615 17.7737 4.10686 17.0833 3.4165C16.393 2.72615 15.2737 2.72615 14.5833 3.4165L7.5 10.4998V12.9998H10Z",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8.33325 3.8335H4.99992C4.07944 3.8335 3.33325 4.57969 3.33325 5.50016V15.5002C3.33325 16.4206 4.07944 17.1668 4.99992 17.1668H14.9999C15.9204 17.1668 16.6666 16.4206 16.6666 15.5002V12.1668",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round"})]})},d=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M9.70328 3C9.11268 3 8.56618 3.31257 8.26673 3.82163L7.67436 4.82866C7.37736 5.33356 6.8371 5.64548 6.25134 5.65024L5.08309 5.65973C4.49251 5.66453 3.94856 5.98153 3.65326 6.49301L3.3565 7.00701C3.0612 7.51849 3.05864 8.14805 3.34978 8.66192L3.9257 9.67843C4.21446 10.1881 4.21446 10.8119 3.9257 11.3216L3.34978 12.3381C3.05864 12.852 3.0612 13.4815 3.3565 13.993L3.65326 14.507C3.94856 15.0185 4.49251 15.3355 5.08309 15.3403L6.25135 15.3498C6.83711 15.3545 7.37737 15.6665 7.67437 16.1714L8.26673 17.1784C8.56618 17.6874 9.11268 18 9.70328 18H10.2968C10.8874 18 11.4339 17.6874 11.7334 17.1784L12.3257 16.1714C12.6227 15.6665 13.163 15.3545 13.7487 15.3498L14.9171 15.3403C15.5076 15.3355 16.0516 15.0185 16.3469 14.507L16.6436 13.993C16.9389 13.4815 16.9415 12.852 16.6504 12.3381L16.0744 11.3216C15.7857 10.8119 15.7857 10.1881 16.0744 9.67843L16.6504 8.66192C16.9415 8.14805 16.9389 7.51849 16.6436 7.00701L16.3469 6.49301C16.0516 5.98153 15.5076 5.66453 14.9171 5.65973L13.7487 5.65024C13.163 5.64548 12.6227 5.33356 12.3257 4.82866L11.7334 3.82163C11.4339 3.31257 10.8874 3 10.2968 3H9.70328Z",stroke:"currentColor",strokeWidth:"1.66667",strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"10",cy:"10.5",r:"2.5",stroke:"currentColor","stroke-width":"1.66667"})]})},u=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M7.08341 8.33317V5.62484C7.08341 4.81942 6.4305 4.1665 5.62508 4.1665V4.1665C4.81967 4.1665 4.16675 4.81942 4.16675 5.62484V11.6665",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15.8334 11.6665C15.8334 14.8882 13.2217 17.4998 10.0001 17.4998C6.77842 17.4998 4.16675 14.8882 4.16675 11.6665",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7.08325 8.33333V3.95833C7.08325 3.15292 7.73617 2.5 8.54159 2.5V2.5C9.347 2.5 9.99992 3.15292 9.99992 3.95833V7.5",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M10 7.50016V4.79183C10 3.98641 10.6529 3.3335 11.4583 3.3335V3.3335C12.2637 3.3335 12.9167 3.98641 12.9167 4.79183V7.50016",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15.8333 11.6665V7.77761C15.8333 7.16397 15.3359 6.6665 14.7222 6.6665V6.6665C13.4949 6.6665 12.5 7.66143 12.5 8.88873V10.4165L11.9764 10.591C10.7961 10.9845 10 12.089 10 13.3332V13.3332",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},h=function(e){var n=e.className;return(0,r.jsx)("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",className:n,children:(0,r.jsx)("path",{d:"M4.16675 18V13M4.16675 13V4.34936C4.16675 4.0332 4.34527 3.74464 4.63862 3.62672C5.25255 3.37993 6.37962 3 7.50008 3C9.15949 3 10.8407 4.66667 12.5001 4.66667C13.2402 4.66667 13.9832 4.50089 14.5793 4.31721C15.1707 4.13497 15.8334 4.56023 15.8334 5.17908V12.484C15.8334 12.8001 15.6549 13.0887 15.3615 13.2066C14.7476 13.4534 13.6205 13.8333 12.5001 13.8333C10.8407 13.8333 9.15949 12.1667 7.50008 12.1667C5.84067 12.1667 4.16675 13 4.16675 13Z",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})})},f=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M8.08571 16.081L15.8333 8.3335C16.9838 7.1829 16.9838 5.31742 15.8333 4.16683C14.6827 3.01624 12.8172 3.01624 11.6666 4.16683L3.91904 11.9144C3.54397 12.2894 3.33325 12.7982 3.33325 13.3286V15.6668C3.33325 16.2191 3.78097 16.6668 4.33325 16.6668H6.67149C7.20192 16.6668 7.71063 16.4561 8.08571 16.081Z",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M10.8333 5L14.9999 9.16667",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})]})},x=function(e){var n=e.className;return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:n,children:[(0,r.jsx)("path",{d:"M8.33325 9.1665V13.3332",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M11.6667 9.1665V13.3332",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M3.33325 5.74325H6.67025M16.6666 5.74325H13.3369M4.16659 5.74325L5.25812 16.0095C5.34822 16.857 6.06318 17.5 6.91544 17.5H13.0844C13.9367 17.5 14.6516 16.857 14.7417 16.0095L15.8333 5.74325M6.67025 5.74325L7.26233 3.43892C7.40432 2.88633 7.90246 2.5 8.473 2.5H11.5342C12.1047 2.5 12.6028 2.88633 12.7448 3.43892L13.3369 5.74325M6.67025 5.74325H13.3369",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})]})}},69789:function(e,n,t){t.d(n,{C:function(){return c}});var r=t(39324),a=t(71209),s=t(91530),i=t.n(s),o=t(78103),l={showReferralInviteModal:!1},c=(0,o.ZP)()(function(e){return(0,a._)((0,r._)({},l),{setShowReferralInviteModal:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();e({showReferralInviteModal:n}),null==t||t()}})})},86585:function(e,n,t){t.d(n,{i:function(){return x}});var r=t(21722),a=t(20485),s=t(38104),i=t(86646),o=t(51505),l=t(82473),c=t(61236),d=t(56457),u=t(21613);function h(e){return f.apply(this,arguments)}function f(){return(f=(0,r._)(function(e){var n;return(0,s.Jh)(this,function(t){switch(t.label){case 0:return n=e.queryKey,[4,i.ZP.publicGetPluginsById({ids:n})];case 1:return[2,t.sent().items]}})})).apply(this,arguments)}function x(e){var n,t,r;return null!==(n=(t=(0,o.GR)(e),r=(0,l.NL)(),(0,c.a)({queryKey:t,queryFn:h,initialData:function(){var e=null===(c=r.getQueryData(u.Z))||void 0===c?void 0:c.items,n=null===(h=r.getQueryData(d.V))||void 0===h?void 0:h.items,s=[],i=!0,o=!1,l=void 0;try{for(var c,h,f,x=t[Symbol.iterator]();!(i=(f=x.next()).done);i=!0){var m=function(){var t,r=f.value,a=null!==(t=null==e?void 0:e.find(function(e){return e.id===r}))&&void 0!==t?t:null==n?void 0:n.find(function(e){return e.id===r});if(null==a)return{v:void 0};s.push(a)}();if("object"===(0,a._)(m))return m.v}}catch(e){o=!0,l=e}finally{try{i||null==x.return||x.return()}finally{if(o)throw l}}return s}})).data)&&void 0!==n?n:[]}},25063:function(e,n,t){t.d(n,{g:function(){return l}});var r=t(96237),a=t(39324),s=t(71209),i=t(78103),o={flags:{isUserInCanPayGroup:!1,failwhaleBypassEnabled:!1,sharingEnabled:!1}},l=(0,i.ZP)()(function(e,n){return(0,s._)((0,a._)({},o),{updateFlagValue:function(t,i){var o=n().flags;e({flags:(0,s._)((0,a._)({},o),(0,r._)({},t,i))})}})})},84844:function(e,n,t){t.d(n,{LW:function(){return s},eR:function(){return a}});var r=t(22830);function a(e,n){var t=!0,a=!1,s=void 0;try{for(var i,o=Object.entries(n)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=(0,r._)(i.value,2),c=l[0],d=l[1];e.addEventListener(c,d)}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}return function(){var t=!0,a=!1,s=void 0;try{for(var i,o=Object.entries(n)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=(0,r._)(i.value,2),c=l[0],d=l[1];e.removeEventListener(c,d)}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}}}function s(e,n){var t=!0,a=!1,s=void 0;try{for(var i,o=Object.entries(n)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=(0,r._)(i.value,2),c=l[0],d=l[1];e.on(c,d)}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}return function(){var t=!0,a=!1,s=void 0;try{for(var i,o=Object.entries(n)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=(0,r._)(i.value,2),c=l[0],d=l[1];e.off(c,d)}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}}}},4263:function(e,n,t){t.d(n,{V:function(){return i}});var r=t(51217),a=t(36560),s=t.n(a),i=function(){function e(){(0,r._)(this,e),this.emitter=new(s()),this.emitter.setMaxListeners(1e3)}var n=e.prototype;return n.on=function(e,n){this.emitter.on(e,n)},n.off=function(e,n){this.emitter.off(e,n)},n.publish=function(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)},e}()}}]);